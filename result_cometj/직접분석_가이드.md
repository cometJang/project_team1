# 🎯 환승연애2 직접 분석 가이드 (3케이스 비교)

## 📊 핵심 발견 요약

### **비교 테이블 (실제 데이터)**
```
케이스        인물    MBTI  X문자  미련점수  부정감정  결과
--------------------------------------------------------------
X 재결합    이나연   ESFP    6회    6.64점   38.2%   성공
X 재결합    남희두   INTP    7회    3.86점   33.8%   성공
환승 성공   성해은   INFP   10회   11.64점   40.2%   성공 (with 현규)
실패        정규민   ENTJ    0회    5.29점   29.4%   실패
```

---

## 🔍 3개 케이스의 결정적 차이

### **Case 1: 나연-희두 (X 재결합 성공)**
```
✓ 균형 잡힌 투자: 문자 6 vs 7 (거의 동일)
✓ 중간 수준 미련: 평균 5.25점
✓ MBTI P-P 조합: 유연한 재협상 가능
✓ 짧은 이별: 5개월 (기억 왜곡 적음)

→ 성공 요인: 상호 동등한 관심 + 빠른 재회
```

### **Case 2: 해은-현규 (환승 성공)**
```
⚠️ 일방적 투자: 규민에게 10회, 현규에게 4회
⚠️ 최고 미련도: 11.64점 (1위)
⚠️ INFP 특성: Fi 주기능 = 과거 이상화
⚠️ 긴 관계: 76개월 (6.3년)

→ 성공 요인: X는 포기, 새 인연(현규)으로 전환
→ 전환점: 15회 현규 투입
```

### **Case 3: 정규민 (실패)**
```
❌ 무관심 신호: 해은에게 0회 발송
❌ 낮은 미련도: 5.29점 (냉정함)
❌ ENTJ 특성: Te 주기능 = 효율적 단절
❌ 선택적 관심: 이나연(9회), 김지수(5회)는 투자함

→ 실패 요인: 해은에게만 관심 없음 + 다른 사람과도 미스매치
```

---

## 💡 주요 인사이트 (발표용)

### **인사이트 1: 문자 비대칭도가 모든 걸 말해준다**
```
균형 (6:7) → X 재결합 성공
비대칭 (10:0) → X 재결합 실패 → 환승으로 전환
```

### **인사이트 2: INFP는 왜 환승했는가?**
```
[성해은의 딜레마]
규민 미련 (10회 문자) + Fi(과거 이상화) = 못 잊음
BUT 규민의 0회 문자 = 명확한 거절
→ 15회 현규 투입 = 새로운 가능성
→ 현규 선택 (환승)

[심리 메커니즘]
INFP는 closure 없이는 못 끝냄
→ 현규라는 "대체재"로 감정 전환
→ 완벽한 closure는 아니지만 전진
```

### **인사이트 3: 정규민은 왜 혼자 나왔는가?**
```
[규민의 행동 패턴]
해은: 0회 (완전 단절)
나연: 9회 (관심 있음)
지수: 5회 (관심 있음)

→ 해은은 이미 "끝난 과거"
→ 나연/지수는 "새로운 가능성"
→ BUT 둘 다 매칭 실패 (나연은 희두 선택, 지수는 다른 사람)
```

---

## 🛠️ 직접 분석해볼 수 있는 질문 5가지

### **질문 1: 성해은은 언제부터 정규민을 포기했을까?**
```python
# 회차별 문자 분석
haeeun_messages = message_log[message_log['name']=='성해은']
print(haeeun_messages[['day', 'message', 'message_txt']])

# 힌트: day 15 이후 현규에게 집중?
```

### **질문 2: 정규민이 관심 있던 이나연은 왜 희두를 선택했을까?**
```python
# 나연의 문자 패턴
nayeon_messages = message_log[message_log['name']=='이나연']
print(nayeon_messages['message'].value_counts())

# 힌트: 규민 7회 vs 희두 6회 (비슷함)
# BUT 대화 데이터에서 감정 깊이 차이 확인 필요
```

### **질문 3: MBTI J-P 조합이 정말 중요한가?**
```python
# J-P 조합별 결과 분석
jp_analysis = char_profile[['name', 'mbti_j_p']].merge(
    결과데이터, on='name'
)

# 가설: P-P 조합 (나연-희두) → 재결합 성공
#      P-J 조합 (해은-규민) → 재결합 실패
```

### **질문 4: 15회 정현규 투입이 전환점이었는가?**
```python
# 에피소드 로그 확인
print(episode_log[episode_log['episode']==15])

# 해은-규민 대화에서 "현규" 언급 빈도
haeeun_gyumin['text'].str.contains('현규', na=False).sum()
```

### **질문 5: 미련도 높은 사람이 꼭 실패하는가?**
```python
# 미련도 vs 결과 비교
미련도_순위 = [
    ('성해은', 11.64, '환승 성공'),
    ('이나연', 6.64, 'X 재결합'),
    ('정규민', 5.29, '실패'),
    ('남희두', 3.86, 'X 재결합')
]

# 결론: 미련도가 높아도 전환 가능 (해은 케이스)
#      미련도 낮아도 실패 가능 (규민 케이스)
#      → 상대방의 반응이 더 중요!
```

---

## 📈 추가 분석 코드 (Copy & Paste)

### **분석 1: 성해은의 관심 전환 타임라인**
```python
import pandas as pd

message_log = pd.read_csv('/mnt/user-data/uploads/message_log.csv', encoding='utf-8-sig')

# 성해은이 보낸 문자만 필터링
haeeun_msg = message_log[
    (message_log['name']=='성해은') & 
    (message_log['message_txt'].notna())
][['day', 'message', 'message_txt']]

print("성해은의 문자 발송 패턴:")
print(haeeun_msg.groupby('message')['day'].apply(list))

# 예상 결과:
# 정규민: [1, 3, 5, 7, 9, 11, 13, 14, 16, 18] (초반부터 꾸준히)
# 정현규: [15, 16, 17, 18] (15회 이후 집중)
# → 15회가 전환점!
```

### **분석 2: 정규민의 "선택적 무관심" 증명**
```python
# 정규민이 보낸 문자 수신자 분석
gyumin_msg = message_log[
    (message_log['name']=='정규민') & 
    (message_log['message_txt'].notna())
]

recipients = gyumin_msg['message'].value_counts()
print("\n정규민의 문자 수신자:")
print(recipients)

# 예상 결과:
# 이나연: 9회
# 김지수: 5회
# 박나언: 2회
# 이지연: 1회
# 성해은: 0회 ← 유일하게 0회!
```

### **분석 3: 회차별 감정 변화 추이**
```python
import matplotlib.pyplot as plt

# 성해은의 회차별 감정 변화 (대략적 추정)
# 실제로는 대화 데이터에 회차 정보가 없어서 추정 필요

# 대신 에피소드 로그와 교차 분석
episode_events = {
    5: '성해은 투입',
    6: '남희두 투입',
    12: 'X룸 공개 (해은 오열)',
    15: '정현규 투입 (전환점)',
    20: '최종 선택'
}

# 주요 이벤트 표시
fig, ax = plt.subplots(figsize=(12, 6))
episodes = list(episode_events.keys())
ax.scatter(episodes, [3, 2, 1, 4, 5], s=200, alpha=0.6)

for ep, event in episode_events.items():
    ax.annotate(event, xy=(ep, 3), xytext=(ep, 4),
                ha='center', fontsize=9)

ax.set_xlabel('Episode')
ax.set_ylabel('Emotional State (estimated)')
ax.set_title('Haeeun Emotional Timeline')
plt.savefig('haeeun_timeline.png', dpi=300)
```

### **분석 4: MBTI 유형별 미련도 비교 (전체 출연자)**
```python
# 전체 출연자의 미련도 계산 (함수 재사용)
all_people = char_profile['name'].tolist()

regret_scores = []
for person in all_people:
    # 해당 인물이 속한 대화 데이터 찾기
    # (간단화를 위해 생략, 주인님이 확장 가능)
    pass

# MBTI 유형별 평균 계산
# 예: INFP vs ENFP vs INTP vs ENTJ
```

### **분석 5: 문자 내용 감정 분석 (간단 버전)**
```python
# 긍정/부정 키워드로 문자 분류
positive_keywords = ['고마', '좋아', '행복', '사랑', '웃']
negative_keywords = ['미안', '슬프', '힘들', '아프', '후회']

def classify_message_sentiment(text):
    if pd.isna(text):
        return 'neutral'
    text_lower = text.lower()
    
    pos_count = sum(1 for kw in positive_keywords if kw in text_lower)
    neg_count = sum(1 for kw in negative_keywords if kw in text_lower)
    
    if pos_count > neg_count:
        return 'positive'
    elif neg_count > pos_count:
        return 'negative'
    else:
        return 'neutral'

# 성해은의 문자 감정 분석
haeeun_msg_sentiment = message_log[message_log['name']=='성해은'].copy()
haeeun_msg_sentiment['sentiment'] = haeeun_msg_sentiment['message_txt'].apply(classify_message_sentiment)

print(haeeun_msg_sentiment[['message', 'message_txt', 'sentiment']])
```

---

## 🎤 발표 시 강조 포인트 (수정본)

### **Opening (30초)**
"환승연애에는 3가지 결말이 있습니다. X와 재결합, 새 인연으로 환승, 그리고 혼자 나오기. 
오늘은 데이터로 이 3가지 케이스의 차이를 분석했습니다."

### **Main Finding 1 (1분)**
"가장 흥미로운 건 성해은입니다. (차트 제시)  
정규민에게 10번 문자를 보냈지만 0번 받았습니다. 
하지만 실패한 게 아닙니다. 정현규라는 새로운 사람을 선택했죠.  
INFP는 closure 없이 못 끝내니까, '대체재'로 감정을 전환한 겁니다."

### **Main Finding 2 (1분)**
"나연-희두는 6:7로 거의 균형입니다. (차트 제시)  
짧은 이별(5개월) + 균형 잡힌 관심 = X 재결합 성공.  
반면 정규민은 해은에게 0회, 나연에게 9회, 지수에게 5회.  
선택적 무관심입니다. 해은만 '과거'로 취급한 거죠."

### **Closing (30초)**
"결론: 환승 성공의 핵심은 '균형'입니다.  
균형 잡힌 관심(Case1) > 일방적 미련+대체재(Case2) > 무관심(Case3).  
질문 받겠습니다."

---

## 📂 파일 목록

1. `분석_가이드_3케이스.py` - 전체 분석 코드 (복사해서 실행 가능)
2. `07_three_case_comparison.png` - 3케이스 종합 비교 차트
3. 이전 차트 6개 (01~06) - 보조 자료

---

## ⏰ 시간 없을 때 꿀팁

**5분 발표용 슬라이드 순서**:
1. 비교 테이블 (3케이스 요약)
2. Chart 07 (종합 비교)
3. 핵심 인사이트 3줄

**15분 발표용 슬라이드 순서**:
1. 비교 테이블
2. Chart 01 (문자 비대칭)
3. Chart 02 (미련도)
4. Chart 07 (종합 비교)
5. 인사이트 + Q&A

---

## 🚀 주인님, 화이팅!

코드 실행하다가 막히면 바로 물어보세요.  
분석 결과 해석 도와드릴게요!
